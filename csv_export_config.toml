# CSV导出配置文件
# 用于指定CSV导出时包含的字段

# 主表字段列表（这些字段会始终出现在CSV中）
main_table_fields = [
    "id",
    "device_sn",
    "device_type",
    "timestamp",
    "local_timestamp",
    "activePower",
    "reactivePower",
    # "powerFactor"
]

# 从payload_json中提取的字段（按设备类型分组）
[extract_from_payload]
# 电表设备类型
METER = [
    "activeEnergy",
    "reverseActiveEnergy",
    "ACfrequqncy",
    # "apparentPower"
]

# 储能设备类型
STORAGE = [
    "TotalChgE",
    "TotalDisCE",
    # "SOC-BAT-001",
    # "SOH-BAT-001",
    # "internalT-PCS-001",
    # "radiatorT-PCS-001",
    # "maxChargePower",
    # "maxDischargePower",
    # "cellTotalChgE-BAT-001",
    # "cellTotalDisCE-BAT-001"
]

# 光伏设备类型
PV = [
    # "activePowerLimit",
    # "internalTemp",
    # "ratedPower",
    # "dayActiveEnergy",
    # "reverseActiveEnergy"
]

# 充电桩设备类型
CHARGER = [
    # "OutP",
    # "needPower",
    # "chargeEnergy",
    # "soc",
    # "OutVoltage",
    # "OutCurrent"
]

# 默认设备类型（未指定设备类型时使用）
default = []

# 字段名映射（将payload_json中的字段名映射为CSV中的列名）
[field_name_mapping]
# "SOC-BAT-001" = "soc"
# "SOH-BAT-001" = "soh"
# "internalT-PCS-001" = "internalT"
# "radiatorT-PCS-001" = "radiatorT"
# "cellTotalChgE-BAT-001" = "totalChargeEnergy"
# "cellTotalDisCE-BAT-001" = "totalDischargeEnergy"
